// SPDX-License-Identifier: MIT LICENSE

pragma solidity ^0.8.4;

import "openzeppelin-solidity/contracts/access/Ownable.sol";

interface IEstate  {
    function landIds(uint, uint) external view returns(uint);
}

contract CityOfGoldScores is Ownable {

    address public ESTATE;

    struct Tier {
        uint min;
        uint max;
        uint multiplier;
    }

    mapping (uint => Tier) public tierList;

    uint public totalTiers;

    constructor(address estate) {
        ESTATE = estate;
        totalTiers = 4;
        tierList[0] = Tier({
            min: 70,
            max: 90,
            multiplier: 1
        });
        tierList[1] = Tier({
            min: 91,
            max: 110,
            multiplier: 3
        });
        tierList[2] = Tier({
            min: 111,
            max: 130,
            multiplier: 5
        });
        tierList[3] = Tier({
            min: 131,
            max: 150,
            multiplier: 7
        });
    }

    function setEstateAddress(address estate) public onlyOwner {
        ESTATE = estate;
    }

    // be carefull , tiers shouldn't overlap
    function setTier(uint tierIndex, uint _min, uint _max, uint _multiplier) public onlyOwner {
        tierList[tierIndex] = Tier({
            min: _min,
            max: _max,
            multiplier: _multiplier
        });
    }

    function setTotalTiers(uint total) public onlyOwner {
        totalTiers = total;
    }

    function getEstateScore(uint tokenId) public view returns(uint score) {
        return getLandScore(IEstate(ESTATE).landIds(tokenId, 0)) + getLandScore(IEstate(ESTATE).landIds(tokenId, 1)) + getLandScore(IEstate(ESTATE).landIds(tokenId, 2));
    }

    function getTierMultiplier(uint tokenScore) public view returns (uint multiplier) {
        for (uint index = 0; index < totalTiers; index++) {
            Tier storage tier = tierList[index];
            if (tokenScore >= tier.min && tokenScore <= tier.max) {
                return tier.multiplier;
            }
        }
    }

    function getEstateMultiplier(uint tokenId) public view returns(uint score) {

        uint tokenScoreOne = getLandScore(IEstate(ESTATE).landIds(tokenId, 0));
        uint tokenScoreTwo = getLandScore(IEstate(ESTATE).landIds(tokenId, 1));
        uint tokenScoreThree = getLandScore(IEstate(ESTATE).landIds(tokenId, 2));

        uint multiplierOne = getTierMultiplier(tokenScoreOne);
        uint multiplierTwo = getTierMultiplier(tokenScoreTwo);
        uint multiplierThree = getTierMultiplier(tokenScoreThree);

        return (multiplierOne + multiplierTwo + multiplierThree) / 3;
    }

    function getLandScore(uint tokenId) public pure returns (uint256 score) {
        require(tokenId <= 10000 && tokenId > 0, "Invalid tokenId");
        bytes1 chunk = scoresData[tokenId-1];
        uint8 chunkUint8 = uint8(chunk);
        return 70 + uint256(chunkUint8);
    }

    // delta encoding scores to reduce size
    // in python scoresHex = "".join([hex(x - 70)[2:].zfill(2) for x in scoresList])

    bytes constant scoresData = hex"2435194100454c3c0211234b350131472a3b3401240c2f361045334d144b0c5032502a3e064d3d4537071e29011e1a161d444d084d1602434e212f1f0837454b1c382b2c3241483036351a41313e494b3514203f1f0a26341811222811462d2e1a46013c494e223f06223e0644153308263e4b24033b1d3a313f273e0829311617252f504b341845350e46184a4803004103044436433f0b260f234029222040214c3d141d33470712331548284f4f45390a290b4e06494f090b3629110b0a470d072c4a234a4a143b3b08062f2349214e410d4c0423414a0a470442332c05140d4828484d4e4e3a3a0d1c411a1545162d0629122c03164a0b2f074f2b1620094238132d2d4749003f191b002030393b3e3f462b504f392b43122d3f3a1440361425022c06064947283a1c3f493c2a0c22410a05303915213b09360f38370b460a4623064302121924224824450d15250b433a33074f1534254806000b00150e1b44060b433e021f4a103f2a4f2d372a064f1c41222d2a0d142750043f3a15150e390a2a3d49221e2c072d234e1a34031b3b45333d0a02233f5006273823130402200a3d34394a164c423c2c3e1c440a473806452f4c39411b50073e4f47214233464b444f480d4e0f234908181124050d1e250e0a221d00172b1d3e1544482319152c50040d120600473923083f142a0a13171c2421314f0c3e322221203f3826180d0c1a30352235444e2d13111006154e500508084624492c2f5033160034093e05274a1d270f4a3e363a1f32233c242c153116452a2a22372346000e40323d1e1204260b0d4c412a062e41334f0a003e253d202419494041112127231d393736501a08430c2b361e1229361049073434241350003802423d2031411121071c094037342b134146092209392424000b4c37264f24492c3910210049423a0e3d43222d244430312f2129252a1a0a451c10062b504a1245320f1240343a3b0d4b162d2b3b3c3e4d2b392a3c3f33062b470b4d423d38391a3a4328060e381f150b44094c120c3b062709021e270f4914432811362a3b0047492b18171622094a3c05234d31472819441e2f0d4f312900333e1125353a2926474b284a4d210f312209153b000d2232174304242729332719480b0819231211304c3b4c002f070e3a3e460c2645121b2d3a084b081303310f3741312442342a094c1737324147393b38441a47260d004000130017164b1e1a0c1d2d2e223b20091b3e0e4b2837324f1146172f3c2f200b3131392c281d030e193b30264f4f19391b241533230d2a173a39430548253c1d263a4c4d2e4539240207482d4d381a040c0e362b481b2125090d4c13362c3a22103c3c1c261d3027321d27440f0c032b484b004b16133a3a0744492248292e484d28481a3a25080a0a0c49112a30364103042331231f2916331c03443834064c0a010d2c36203c1832152c012140460c08144b004038073e244d3c25411636073b02154228391c22431213204a1a02380c364c0d1327483f2a2a3d3a293e172a2023144e11190509334434062f47020e3732061e3b361e2f23343c4d2b372c3042252e3a0f102b0224072b3c2925370a060b18300a173740292103421e10074308281c40422e084045060a0e401334395038181646151b2d35401f13220f0019301b4a3125230a3125063020192a50104e40042c024e1312142f360a214b5009022e472b4a36484a0d0a2e4c47202b4236464e0e12230c121020322e09040725121b124b20363c2910140b3f003222493e4218324d1f4725022f39401f00314323003b4422311c19320b2c071e0b3232200501293c101f1a201712420b38453d4826172f4a3b1e1d30480d352007092a4e014c0c1717102408353e411f4c333c3732140b2d3b15222f2f3607381b3f1f12411a1e450505191235142f0a194801222c1c454732140418144c3a0d1b0f372511234f124e223a2528063e2c3323461a122b173a2d114b2e2c2c033811021707261f0a011400262047454f3b0a2b35262d4d4105091d182524502f164e0003272d4f3d26502c0838340c21473e2c1d01360b0431201d421b1e1a36440b0e2e2b1608221a1c193a2e161847253a470e493c34200f1701324c4d0e17340a48202d382a463022261b2d432a06194d4e3b164024400c401b342701133e0e1c400611142148124b0f1001214d494432381f413841464839113d062e2f382c1e3446482b184135413f2c234134394e07503a2520430311063d471f402623422321442b2e2020024a0b2d0402154d4b421306110941280a36043c1b1e04181f19184447372c06074406184817220e05381b4b2e130650143126084d101112370d004238354d0b3b1b3b4130494f3608504f10144d2c503d2b0a4f063e04464a42052502161a393b420c4a2731250d0a06223235141e09434e4c31270412013449421f4446124e4e281c324f003c4d06304a4a2f3e1818292b31501c0b391d271b27142a0d3e402803492a2a021f29353327250c2b354c4f0c243213300d26250b451e4a303e0130370c1121302c083a013407202614011a35332b05290d4e071b36092f232b2f493918203b212c27500d2c4946154e4548221309024a4f16203d360b042522032d264b3723151c0546460e26221650132c0602123d052d2a103145244b3313030a0c252f1f203a351d341a4414224c3b4a324e02450b263a4316424a0f054f261b033a2c434924393d09394548222f1b1e0443232106394c390e094a0621491812483f0f1c092f3c48432c202403331b414718261703474b15210e4430263e180f1b0a1212471b31402a1646341e4e1b3811403b280b26500e360242483f484f402012010c014f4c264f2d41203c49020844122c1c0f3f181a382d1b23353950201d0c1d0919132b322d412b3e06341b172c4636333c1412290601244049110745301949060630172e1535443236212f4d4d06490c45383e0a4d39373e3b4136021b070c45504b07014f4a2a1a2f16273c383f3a1a022134441108051f11031b1e1019224b1b32223b0a3812304604292e2b020421492e01130550192e180d010e4d390b2d2d273d441945301b1c3a1627192a010d354a1c13060941443d0a4539242811333045030b0a3f35244e34420a4918203c4b36444b072e082c262942142a3e1632081e294d370248013b1a3e12052a0722341f42150b0824080a1e001d012c50211c271f3f2811060a272630114d1f183d443a4b0f1e043e4a452b4025402d104c4a400d2227232b3d0936024334350d2b1035030109024f283d4c1138410a284a4e44242a093c072a01242f0e1d2120181e29222c1a3926054c2d0e010221304828391a4929102f491f474e402b222636372f1f0b2b3f0e480a2b251d00021a403a2326340b424e25183d2e2f4b4b13451a300b25280a2607491a27030c29070b36453d0b0010191b2f3a022d0d1b3112340332423b1b36194845464f1625482c194e091b3f46501e060928503b001f07240f071b07032646030c2e1139200617501913083a4b3723323a21330240133a38301c42272e090804034121090f20391f101f0f05231414464e0a2b01092335400b0e12360600160e120b2e202e373b4b4c261204262b323844433d1625011a393a0c2734091f1e280245374f0e17253347080720232b0e2d423304070539161b233e054841051f2125450a284345472724231c17230d4c0e1b3a460c04000d2f430243222d17112c283e1e424f2006403a252a1f1b1a19450a35120005493a1e013601161d21051c19011f100935444d492a481844501b0010463b2b4f23100e441019063a001f0e21264a120d4b0a36320706032f372431471610223510040335011620420b0738404f46491706420d502f2046292e394243052e2f1a0a45451b351542051b1f331938044845070a3f2d1f35460f3a340310291c294c392e463d06002a19322d320333484a274325423c292f0c421c2403283a3c003b000d413549020a2a2807141a4a2b35421f2141110f2c4804213735332e31421a1336054b0e4f3509034c4d0539494b2d254c433904183c323f3415220a3a01003801210e352209504b1b4b40161a05263a3e033c25504b2e260e1f1114262d2b0f414737074e1e0748174c1c322a28041a1549121a2a222d470e3f31320c4f22250e1a021700261621020511051417073b4a3c3c154622243b4b2b313428482e1d012c461f32072c1b0411474a2a032e3923381a25033b2f07030d142425440e44160f480424032949114d3e2c23500608364a44024b174049241c000b34094e4d1348404c1e450248124a18181d082b32142e311b14241050402442363c1d054f02482a220e2b243f24040c283c2525112c30374c010f25192b3f022b4d124809124c330f2718302f07070e084033034d1540183f440f120e3527233309170c464016502e04203c00494a1b4d300037052b0a08060035084f12244d031a0b2330403c3d3a12002214171e34004d0019473311241d2d34350f1d3e25010508080d1c253e2b4c21462b183e272d1d33233b333750253c431d1b262b2d2c0e4c0339083e2e17471d1c4326043d172b504a44012e033d11263350382f0a313f273e382808231b2e163e1f32362328334d49170d362e2f372c4c1a30470a403d19110f3f15040a03354b3244070d364a024e3c492c2f4c2b100d141538062a3b48492619363e1621133943362a0f09092f4d07242e0c3a1c070c4a3836253e3e4c2d322413320811343f0d4c091d4d48493c2715043a192f0e24174a374a3e0e2d433519443a4e2914071c162b271f44083c2a251b17194f0b1f27193d3b4514014244242445161e32490a0a3b24212a1c1c483c000d2d2a194827143242192d13384e2a2f273c16460e4d03021e362e503f2b4d41434d0f0a3f4119053d0a501e2340091c444d3e3a204d294e0006111f4223464526272b45452c4f1312244e313e131a0d4348490613003c12390b452d462a433d3c26473c0d35480f301440472d3a19181e46272f2e24142e38091e19161201422c1f460b47302e0c0a191a07280204461f3b3b450c15303a3a472a110d243c3c09062645373330080012310e0c24090c311d2b34274f223c4d3b2d12123a120a21443b1331112911010c1639361f2f362b0110062b4e2d2a432c1d1c40230f2c263f2f48350d3f1c3f463d11472419013c283b1406193801440905133c1b3c3817444d1b4444410a2d0f41251d3f191f2226320d25064f3a21060c332b464a034e2709231b494e201d203c181802381c042a313a25120b153b203e333b183232060c44344d0b1b1833361d11413439153b0703323a140302451b3e0c434202062d2246453c43161e0f1a1c2f3e44161b42140e4e00182b260e2c0c3631002a2e22233439501f063a091e1f374d121b04051f024a034139403d1b4f33422e01060f311328074f0c2144261d070629254c292a23303a4d4e19403813402b11324c05391b420d0a0f4e0b3b272e1b3a47061103154436361544392d1c2444381b0f1711473a0e48432f2b50301a1c400b0b2b41332212003548493c480c3a0b3f12450b1e0220102d3916043a182c3c152511454c152d5019290b3e0109463c011533283b190b11304d1010174e052938470e2c1310283e4a10054a46223a2c3f3d1934061e0b10331d1f104e0011031907262d353c03322026050c022e4423503c2c0e0f100f383c3d31324e4a35123f490700292a1331433a151a1c21250e210c384c4d4a4f4e0944404743401949150519470d3f0712063202403632471f48011a00081911081f3b094e422d04493b0a400d29481d2342480019320f3a1a481e4708200c09313a43220d220829244c15452d33003f3f2f243a162240462a0a140b4d3d3416462415340e502e271d502a4135403b0e253c05310e4c0407213614151439474e3b0013420e3f232a3c343b36313f453614230b10422619472d020f020036003649200b01272550001a123535352f0e324b45322c234e2f4934232f2d24440c271f0c4c123d230703182e224d1f450b1c01011e4f26502024362b201a223b4943394648291d0e3429493b360d391e42310b1a47242a0f14371f3f144c1f313a2010280b47364722322d482e3a2c2d37114a2b3e02050f353b2d4d2934100732300f1516132b1d311121361f3f172313481b0a1d232e213c05174c4010053405244d233d2412320e4c010a172a20441b4802284a0d3e384d2c3b1114443e461603154c3616450f08120e480c221825244a1e1e464e0b41161f132c1d3c05490e10453608273b2c2016292f39052d034a1b0f12281b40243f0f1f2735114902044f13294d14250d3b1f243e40081e2b411f3023363d3a4f493d392618152d380c3a27370b384942170e4542324e26494d4a11411f1b131b203a14452b3e4328222b091b041a2d010322264841402733194d0a4b3a44362a09493c0e2b1b12092d0c1d321034413344223d2503252e4b2338224a3102030e3d340c02380234050a10024a49314a0c2f2038430e0f3d253f192e2b31052c2242014f0b27081f4e28472c4d092f1a3b033e4a21270645091736172a07312302213c482b460e16032542320d11252c1b29324a124a0b040408124d041e3b16390e3200352b01232c2509021c454f161d0b161b0c411e08411d4c3d0e373610003830455047192a27292c48304c2b0a1a292f1f252844394b2a1b3c0c1438014e4838163a4312234e0243444c4e4b3b162404490d133c242b2e261245452f0d252929184f053708400302041e044742061f2a0a1f363b45221d1a082c102d2d24472e4606083f103d314c3029180e022e000d0e1525110e32423b05142b453c41313b193e42244915312006204d0122213505450036331926292a0c2e2b244b400f01251d2316214725273a3227180c06491d0d2b3a112033172109022d2b38352014364d2100413711072e0f33084f351546421f364c34492b1c2c27174649433e26433c4e42443642121c3919330a1d0b3d1e1c4d2b47023440184e38501f081039371b441e26144f43051c1e1b0d1d3a2417142f4a04420a444a1017271b0b0a3331461e0b43141c3e1d4f043d42104a00113a481a183f0e370a2700101e014a220a4d1b410b4c430d022a35061a44000949460b004d031c25290106223f5031081f032c1d0d201a122100250734500e3c3a1f282d022c2e2a31043f3a005044121e1d044c1d243a4d132f4b393747082b2135262c1e341a1d34154d222f211641142c1a443c0e0433393614372e12370e414c3805131f02071a35362b171450380a0e301e47053742114a3537253e2a374b4017412c44100d000f1c314213364112161c3c322c3a37073a1429450a331a0b084027184f4b014f000b251c2c4b1a48102013142a453602474f24284e0a1a1417351d0e1e131742053b2d0b22064b2a2202233f0c193c3b1b15402a480e152c304223502e4126060e1a073a470143113d4241421a28121902422c2324245019394512364643240b3918280808220e263e1d0e43051d13383d182126153c0a02332d352c1a4c2b3e0538110b480f1f1d3c364c1c0a2d2f010400471a283e30334f11290a4a314d3c1d0a4f0b182d2a0e41002c4c021f13333e163a02111d3c0b3e423d443c011d282804293124500e053a1f044b094023273e4a3d163b29252f114f0f09232b09134d1a171d3a13182f0e0f1a3e0925120f332948182120112c3c172f5045241b223d271d1f282737400f2f2c2f4a172c48074828451e374329493c2a1a4716004f1a23240e0e4d32312f3638414f124a02164709002c1b4a3d4e170a2331133915201434042b30264d1e481e34291a1b31254d4600420239061a3a4b1d180e2411113d1b011e405014182241444e1e03293a3f2a08092c4e074a171304304019170813122c394822323d1a45063f1b4b102026034f11220d0c03340b301300182f0e414d12342f361710000a4314274b3d412a33125014234b2f4f39064f214127172e33072e044936034128170017242f3b3e3231091b1e190243082a3d40021e473b13172f174f4e094f371a2635502c0e12393636134f02210a192d4525260d292617331b3928142a483e36330a4329341133004f4d430a211a4318413f4b3d182939023b064d3a30092624484328450c321429141e08433d303014402c3b050a410e3546021a292a4d052231310145420b363d04060b4c44004026250d05320d1150441d10184021081e34231022122b3f1d09462d4049282e4920263000330f1810251016081b4523023c2005411b453522181e142f234d0f02060c42163c3d1025011b121d03154e134f320b45090146063345380628320c504f0d370201412b3e0b412f1f2c0c4a1e372b05334a0c4c0d15361d28093f35240a3c0007322c494f1201333d4019212710313d07473b312f4e47370b14460d14482118214e250d1d0c050f333a2f0710042d0b2307364c4124330d171724171513214b0d0a45450d28043b0e11193d092a2d3639403f4e2c274b4c2f312a40203f04330344171b24204f4b0033393c3e0003021607323e2614363749483b3d4c4e0f02073103282d2e3f39323b3c041d3c2126352b074b2f4005044e0813294e1034121a0a4624333a073a1f0a1608213e1d40052517211a2f41052e49472d340a1e42251a0d320824274a01174b261e06194b3415490b4d271d253a302c0342314a050b402f243a0830283c43341e4516461a422f3805141c4032440b26083836030c173c13252f1211450813230833131e1507461a2d0d3012111f063746230a49133a12271402483a0c021d280d4a00183926312236170c07422d4f4034431d281b3c024e504c43051842124d214137354f0904071d4609054e10144d072733332b4b2b160d243217161f1a36332c072c4b11052c0e462a460a27132e212309410a110808450f2447310011060c243c230d1d3c042e1f4d3e3604321c091b4c293b112047122b3c16434b50020036264939100344313a192429113e34493f414a4e2822031b382e3b052024114923480c1e11201a3f011833353038360c341e264212260e47374e37212143463605381a4b11093a4213000601084c130c27262d3c083441051f0b464940061e422f3b1c493b3502032a0e480c243b230326070e043a440729223e39173532033613314e060d4b3b3240304044004400361e4c244d4b49243a0f50360f082807053d413c014841423203361c44451f3045014d213f2b314a13202c3a3b1e492d20140e3b231749031d4f0f161902484a250a50494f0027210b1d36242f0a34320136182a5025384e2a1b4a34100b0e463a0d16313903051d494d0f153e1e080b3f4e3141362c2b2702251d262c32471b4d17342d2644190d0a024d2450491a2d180c1c4b27211c124d1e1c443b31080113470d46344e074d2d304330312e0842053904380a0d4820133f4c3e21131f371333073e0f134540040b2e3b093b331f05251a202c49404e491433484607454d4f1c2a023c2129440d1a4b07111327332c282c0e1346471c2a0631081f10094311112a084733050b251730043c3f2c371c2a4c4c0e0a3c2b013d021b1c433b271a3f41433c2d3027481e3941431f37103b0e2f5036031f30302b26023a212a4f1c231c1f0902384f001205213e3d1e3e39442f3f0f3311162d374e4e3a20253f21503a1b38041b173f28220205061744260e13231f3c08204f3c2b45074149322e144b053023280947080b22504f4616053a1f38503b2e100f1741172b140a42342e0e164d081b41433a4618410808403835041c0c16321a0c3f280248430041461627022e1643062c45494e2e4e39094a35151f41331a4133340620261f1724344b4a2b1905362d14180a1a4d32073232403c3c431e0b2100333f210c30473c420f404b141f09113233131e20152345081d11264c1e460d3e481e4248274c1e222e2d3e451021261135241f50100d12031b4c27314f03213d1d4528020119070e221c374b4c0c342c291f04243f480f100000015049190814011d2d340828412d10430d184236012c2d0728430a4a3116360c362d2c323642202916231512282b24050517503e5033414f401e250b28252c0e0544071b4250071a4b0c0605114a172c17240441092e342d46461a323e15481e364112111726231f3c4a08174144453704324f00211b1d340d0e1d413b231a0d300406231b3f01304106194a1c080d2f413e4034021d3939164217030a09224a0e06321a04370a15451601464e0720381a344929313c053c393c3c0c353e260d252c2f381c264532231026023a260c32160724292f4f3b25181320184a2e294000380e29111814261b221e26390e0d0336404f20231c1d091820331433022940072b3c464a07102c040447372a502d20102403120c280e313c1a2036452e2c4726363532280a0a19010f0b33010721191b1a0d050e024e3a361f460a474f4a3f4b2137020e0b382104060f2839170e4e2945203e2839313d09502c36320b374f074b50162c171733000a432c161b0900352e34261f290e34214f301e143636290a2a4f2530301e1f100c01234015321241422f1823482d0e41291b09032b104f0c412231193a030c49220e11434a202a1c411e4a4e121205141c463b3f1a09164b201010420c4a294b4650424006150a37052c100c282f33242c1c2b2d06124b2702213d3c0730061e260844193e1c37264f03013e1d4f4b013b502c272f3e3f0713122c0b183a2a0b092148480c3e182241174c4d2339422b3c06332f253a0b3f3f1e1c2a0b39072c211e09024e473b45432a2f3d3844054c0b3d050b0235461e382535450600120102181808152f1d0b271b1d380b183922024e48131e37240d3e450147392439040e4506460c121c061e4e3c44290c0e1d29043e194c162f3a2c2f022a0e481b1331502c3b430938144b1f4e3e48244c39160b3c4d2f0127123f440f4a3f0449140f00232b1a2b1622484a393426070a1522080f252a34460317440d38363d3e262d080a2b100a1804073c093025492e41164a26333e093f30413f19314a0a13013c21384740364f4e5011224a1d182b02322e40131b4515042c5042433e162e263335390117393b25354a3e0f050a1e1c324f372f08150d35221c074e434643190411233c4b24001c4e171a242f0809272b0c3f0d2311270b323421251b01213f2a50041f4c102b161d3e0e3d04060e4529010f3727102c31151b004241444f0c003326150721084b3f46083f222d3a2f1b491b45052a4e414b374f38104e0c484b431928454a401714173a010b092641161b3f4b00064e25202c4c363b3d2e241e2d3140330e420f03094c2e2e483f223a26063e4b3a0a292c0444374343343b122424220b07074d3f48394f503a4c43094d102d11103e4f0627013c010b4c264b373d110f393647122c43433316092d191e00440d051b120c1431121128003013251f3d1a420b4204342332161a02324804312224171d2036351020451d12350811192b4f434c1f4749204a00341a453d173d35391c0c1302422a252d04241f0c0a4d1b4f1a1d462e3f092d4d370137404d1d4f37470c3927453428090002384b354e15014113412f3a181d35073f183d2f0e502626140516322e1c104629440a2d0250351a1e234d4c1d490b20050a22224b293e11224c324f1e2b1d2906460c14114342273a1304234f0a212d4f22404f2a0a010d1220081d1c10044b1a120712410c494920233103380443072842484e39504736411a1e192c370116101b1a462d38284146442b1b312804404d47374e2d21264d1f1731503a471b1b4e1429343e00371d15201a361d19081d2e251c3618424643232a000d050d2a4c470820393f184e36055008491e3f140d343b35070f4047354a1301223c18480228011e3642214a0008112a473d394444381032101a1e502139050d3e354c031c0207472d091a373437354e353333442a3a3f1a0b3b2a23290730163d2202454442431436030f2d252e194b05393a1b26081f1f0309443549220612083027274731163b3112310f503218384e2341332c214a4e244d084d322d4d3622061d1600390f1b144d424b052a091421403a0241301441402d0b400e29213850280c05460d0b263e0641472647180b29402c131f144110492b203e3b08502c0e0a0a284f3d2b0435102b052b0a3e2f03050a061d3531362e4c39221421350e2416413b1f123906010f2a46334741273726060c334c0a123d43253344491f1c09061a432333090d2d1d0127041950054f261e0942232244303f4321434b0724073c0f123e33152b0547281b4120031a0a291f4d36111a1a1f330842164e3d3d03054c3904464c24083f272e092c4c330e1335071d0a130e3309373b0a3f4105392f402e0b3e35344817003604110e2c1b2d3c041e27443f26400d153e440a11223a2609223c1224293b222e2f4c081b1b1c1a343d494e1711364c2e3905002f0e284a324b1a171e021b1802314d16014615243e4a0c1523300d072943212c1e0d314a37454f501f0f110f3d2b0c2232081f312507152646294a36454b0833412f381e150f48432822172e342b1f1007314404102402344241263f131b2a291e17203831063447052219110d0821274c2d13401c30294d172035224d1d231d45413639231e205008161b234d081f36413513013d1d1a3e384a041f121c334f2b02360a4a3b104b163b000d073e2c332147091b4c3d29214c2e22112d050e232324140322143b0e3c4d452026103c220302201a4a162b3f343b070d0603313c16054a364b0925301d1e473b293033452d1c08082e4e003e30244c000b164420332306452928492a0031323a0a312e024019040a1620092c4d354e480f2e070f0843233a321700022138434b26204b44203f060d2f472a4b4b111022131b090a4b0032370b352f0b131017154a190848471c412a284011390a17090e300f2f2c27011d47323038073f410341064d4a0848160f0a26403b11053a1c02460f15130224473c123d1625222c2e383c31123f392a10064d1003202f2b11474114194a24354b152f443731461c2a030e43410243432b3334260b48072d1b05492d38344b174a323e241e123c27021301041c19421a31121b1410054143483b25121f4e313e2324443b0e4c172f012c25362b312d120d41432c2041251f010002130c213537363e492e1e1019172b04224040272434221a37413c303c1b2d21361749460e34314e17241b1f063f3848273d350d464433431d43051e011b1922023d34122a43231f500300223f4c0512322e424849390b3d5018251b2c2b1734102b3b1907382e433235394e18032911374f3c2c21340a44104b44314a27301b0a4a334e0001124e43430528182e3b39350d17054f33161d16063d3b0a2c3d194c38434f034521082032472e163908294310442c0a0f303c0d3e04304809110225122b184f444f444145485018273c210425041e1c034a333922230727282c422d3712304e48223b292e22483b4f473d4324134f3525280d2d27403d451a190b032d14423c21282937432a310c01474f4e4244111f0308340b16491e122e052a2436023932412b3e120a46170e47153b06272026272f0949201c331234160a14243e1e362c124b3626491f052c4321052303104d154609084b0602290a1d4c3c2a2b0850214b313b31114c1d2f45170b0a05402643441e1e4f0b3a021c4715372e002d122a0b272712060c26394e3e1433154329072e4823471a1f44202e0336132a294d4f29333e0131140d0e2c25002b3d354633154f2c11492528313850174626204b2b330c4e2c1a352509031c1a213c2c1a3d1d2909293e054622381000423c4923060a352a4c1740074a180834221838500f181f040344223a1f340b14211710321e1d2c0f13422344103a";

}

// SPDX-License-Identifier: MIT
// OpenZeppelin Contracts v4.4.1 (utils/Context.sol)

pragma solidity ^0.8.0;

/**
 * @dev Provides information about the current execution context, including the
 * sender of the transaction and its data. While these are generally available
 * via msg.sender and msg.data, they should not be accessed in such a direct
 * manner, since when dealing with meta-transactions the account sending and
 * paying for execution may not be the actual sender (as far as an application
 * is concerned).
 *
 * This contract is only required for intermediate, library-like contracts.
 */
abstract contract Context {
    function _msgSender() internal view virtual returns (address) {
        return msg.sender;
    }

    function _msgData() internal view virtual returns (bytes calldata) {
        return msg.data;
    }
}

// SPDX-License-Identifier: MIT
// OpenZeppelin Contracts v4.4.1 (access/Ownable.sol)

pragma solidity ^0.8.0;

import "../utils/Context.sol";

/**
 * @dev Contract module which provides a basic access control mechanism, where
 * there is an account (an owner) that can be granted exclusive access to
 * specific functions.
 *
 * By default, the owner account will be the one that deploys the contract. This
 * can later be changed with {transferOwnership}.
 *
 * This module is used through inheritance. It will make available the modifier
 * `onlyOwner`, which can be applied to your functions to restrict their use to
 * the owner.
 */
abstract contract Ownable is Context {
    address private _owner;

    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);

    /**
     * @dev Initializes the contract setting the deployer as the initial owner.
     */
    constructor() {
        _transferOwnership(_msgSender());
    }

    /**
     * @dev Returns the address of the current owner.
     */
    function owner() public view virtual returns (address) {
        return _owner;
    }

    /**
     * @dev Throws if called by any account other than the owner.
     */
    modifier onlyOwner() {
        require(owner() == _msgSender(), "Ownable: caller is not the owner");
        _;
    }

    /**
     * @dev Leaves the contract without owner. It will not be possible to call
     * `onlyOwner` functions anymore. Can only be called by the current owner.
     *
     * NOTE: Renouncing ownership will leave the contract without an owner,
     * thereby removing any functionality that is only available to the owner.
     */
    function renounceOwnership() public virtual onlyOwner {
        _transferOwnership(address(0));
    }

    /**
     * @dev Transfers ownership of the contract to a new account (`newOwner`).
     * Can only be called by the current owner.
     */
    function transferOwnership(address newOwner) public virtual onlyOwner {
        require(newOwner != address(0), "Ownable: new owner is the zero address");
        _transferOwnership(newOwner);
    }

    /**
     * @dev Transfers ownership of the contract to a new account (`newOwner`).
     * Internal function without access restriction.
     */
    function _transferOwnership(address newOwner) internal virtual {
        address oldOwner = _owner;
        _owner = newOwner;
        emit OwnershipTransferred(oldOwner, newOwner);
    }
}